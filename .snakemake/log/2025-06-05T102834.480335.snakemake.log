Building DAG of jobs...
Using shell: /usr/bin/bash
Provided cores: 8
Rules claiming more threads will be scaled down.
Conda environments: ignored
Job stats:
job                           count
--------------------------  -------
all                               1
build_quant_sample_table          1
build_samples_table               1
fastp                             6
gffcompare                        6
hisat2_align                      6
hisat2_extract_splicesites        1
hisat2_index                      1
pca_html                          1
prepDE                            1
samtools_stats                    6
stringtie_final_quant             6
stringtie_merge                   1
stringtie_quant                   6
total                            44

Select jobs to execute...

[Thu Jun  5 10:28:35 2025]
rule fastp:
    input: testdata/raw/batch2_chrI_1.fastq, testdata/raw/batch2_chrI_2.fastq
    output: results/fastp/batch2_R1.clean.fastq.gz, results/fastp/batch2_R2.clean.fastq.gz, results/summary_qc/batch2_fastp.json, results/summary_qc/batch2_fastp.html
    jobid: 8
    reason: Missing output files: results/fastp/batch2_R1.clean.fastq.gz, results/summary_qc/batch2_fastp.html, results/summary_qc/batch2_fastp.json, results/fastp/batch2_R2.clean.fastq.gz
    wildcards: sample=batch2
    threads: 4
    resources: tmpdir=/tmp


[Thu Jun  5 10:28:35 2025]
rule fastp:
    input: testdata/raw/batch3_chrI_1.fastq, testdata/raw/batch3_chrI_2.fastq
    output: results/fastp/batch3_R1.clean.fastq.gz, results/fastp/batch3_R2.clean.fastq.gz, results/summary_qc/batch3_fastp.json, results/summary_qc/batch3_fastp.html
    jobid: 11
    reason: Missing output files: results/summary_qc/batch3_fastp.html, results/fastp/batch3_R2.clean.fastq.gz, results/fastp/batch3_R1.clean.fastq.gz, results/summary_qc/batch3_fastp.json
    wildcards: sample=batch3
    threads: 4
    resources: tmpdir=/tmp

[Thu Jun  5 10:28:37 2025]
Finished job 11.
1 of 44 steps (2%) done
Select jobs to execute...

[Thu Jun  5 10:28:37 2025]
rule fastp:
    input: testdata/raw/chem3_chrI_1.fastq, testdata/raw/chem3_chrI_2.fastq
    output: results/fastp/chem3_R1.clean.fastq.gz, results/fastp/chem3_R2.clean.fastq.gz, results/summary_qc/chem3_fastp.json, results/summary_qc/chem3_fastp.html
    jobid: 20
    reason: Missing output files: results/fastp/chem3_R1.clean.fastq.gz, results/summary_qc/chem3_fastp.json, results/summary_qc/chem3_fastp.html, results/fastp/chem3_R2.clean.fastq.gz
    wildcards: sample=chem3
    threads: 4
    resources: tmpdir=/tmp

[Thu Jun  5 10:28:37 2025]
Finished job 8.
2 of 44 steps (5%) done
Select jobs to execute...

[Thu Jun  5 10:28:37 2025]
rule fastp:
    input: testdata/raw/chem2_chrI_1.fastq, testdata/raw/chem2_chrI_2.fastq
    output: results/fastp/chem2_R1.clean.fastq.gz, results/fastp/chem2_R2.clean.fastq.gz, results/summary_qc/chem2_fastp.json, results/summary_qc/chem2_fastp.html
    jobid: 17
    reason: Missing output files: results/fastp/chem2_R2.clean.fastq.gz, results/fastp/chem2_R1.clean.fastq.gz, results/summary_qc/chem2_fastp.html, results/summary_qc/chem2_fastp.json
    wildcards: sample=chem2
    threads: 4
    resources: tmpdir=/tmp

[Thu Jun  5 10:28:40 2025]
Finished job 20.
3 of 44 steps (7%) done
Select jobs to execute...

[Thu Jun  5 10:28:40 2025]
rule fastp:
    input: testdata/raw/chem1_chrI_1.fastq, testdata/raw/chem1_chrI_2.fastq
    output: results/fastp/chem1_R1.clean.fastq.gz, results/fastp/chem1_R2.clean.fastq.gz, results/summary_qc/chem1_fastp.json, results/summary_qc/chem1_fastp.html
    jobid: 14
    reason: Missing output files: results/fastp/chem1_R1.clean.fastq.gz, results/fastp/chem1_R2.clean.fastq.gz, results/summary_qc/chem1_fastp.json, results/summary_qc/chem1_fastp.html
    wildcards: sample=chem1
    threads: 4
    resources: tmpdir=/tmp

[Thu Jun  5 10:28:40 2025]
Finished job 17.
4 of 44 steps (9%) done
Select jobs to execute...

[Thu Jun  5 10:28:40 2025]
rule fastp:
    input: testdata/raw/batch1_chrI_1.fastq, testdata/raw/batch1_chrI_2.fastq
    output: results/fastp/batch1_R1.clean.fastq.gz, results/fastp/batch1_R2.clean.fastq.gz, results/summary_qc/batch1_fastp.json, results/summary_qc/batch1_fastp.html
    jobid: 3
    reason: Missing output files: results/summary_qc/batch1_fastp.json, results/summary_qc/batch1_fastp.html, results/fastp/batch1_R2.clean.fastq.gz, results/fastp/batch1_R1.clean.fastq.gz
    wildcards: sample=batch1
    threads: 4
    resources: tmpdir=/tmp

[Thu Jun  5 10:28:41 2025]
Finished job 14.
5 of 44 steps (11%) done
Select jobs to execute...

[Thu Jun  5 10:28:41 2025]
rule hisat2_extract_splicesites:
    input: testdata/genome/genes.gtf
    output: results/hisat2/splice_sites.txt
    jobid: 5
    reason: Missing output files: results/hisat2/splice_sites.txt
    resources: tmpdir=/tmp

[Thu Jun  5 10:28:42 2025]
Finished job 5.
6 of 44 steps (14%) done
Select jobs to execute...
[Thu Jun  5 10:28:42 2025]
Finished job 3.
7 of 44 steps (16%) done

[Thu Jun  5 10:28:42 2025]
rule hisat2_index:
    input: testdata/genome/genome.fna, results/hisat2/splice_sites.txt
    output: results/hisat2_index
    jobid: 4
    reason: Missing output files: results/hisat2_index; Input files updated by another job: results/hisat2/splice_sites.txt
    threads: 8
    resources: tmpdir=/tmp

[Thu Jun  5 10:28:49 2025]
Finished job 4.
8 of 44 steps (18%) done
Select jobs to execute...

[Thu Jun  5 10:28:49 2025]
rule hisat2_align:
    input: results/fastp/batch1_R1.clean.fastq.gz, results/fastp/batch1_R2.clean.fastq.gz, results/hisat2_index, results/hisat2/splice_sites.txt
    output: results/align/batch1.bam, results/align/batch1.bam.bai, results/summary_qc/batch1.hisat2.log
    jobid: 2
    reason: Missing output files: results/align/batch1.bam, results/summary_qc/batch1.hisat2.log; Input files updated by another job: results/fastp/batch1_R1.clean.fastq.gz, results/hisat2_index, results/hisat2/splice_sites.txt, results/fastp/batch1_R2.clean.fastq.gz
    wildcards: sample=batch1
    threads: 8
    resources: tmpdir=/tmp

[Thu Jun  5 10:28:51 2025]
Finished job 2.
9 of 44 steps (20%) done
Select jobs to execute...

[Thu Jun  5 10:28:51 2025]
rule hisat2_align:
    input: results/fastp/chem2_R1.clean.fastq.gz, results/fastp/chem2_R2.clean.fastq.gz, results/hisat2_index, results/hisat2/splice_sites.txt
    output: results/align/chem2.bam, results/align/chem2.bam.bai, results/summary_qc/chem2.hisat2.log
    jobid: 16
    reason: Missing output files: results/summary_qc/chem2.hisat2.log, results/align/chem2.bam; Input files updated by another job: results/fastp/chem2_R1.clean.fastq.gz, results/hisat2/splice_sites.txt, results/fastp/chem2_R2.clean.fastq.gz, results/hisat2_index
    wildcards: sample=chem2
    threads: 8
    resources: tmpdir=/tmp

[Thu Jun  5 10:28:53 2025]
Finished job 16.
10 of 44 steps (23%) done
Select jobs to execute...

[Thu Jun  5 10:28:53 2025]
rule hisat2_align:
    input: results/fastp/batch3_R1.clean.fastq.gz, results/fastp/batch3_R2.clean.fastq.gz, results/hisat2_index, results/hisat2/splice_sites.txt
    output: results/align/batch3.bam, results/align/batch3.bam.bai, results/summary_qc/batch3.hisat2.log
    jobid: 10
    reason: Missing output files: results/align/batch3.bam, results/summary_qc/batch3.hisat2.log; Input files updated by another job: results/fastp/batch3_R2.clean.fastq.gz, results/hisat2/splice_sites.txt, results/fastp/batch3_R1.clean.fastq.gz, results/hisat2_index
    wildcards: sample=batch3
    threads: 8
    resources: tmpdir=/tmp

[Thu Jun  5 10:28:55 2025]
Finished job 10.
11 of 44 steps (25%) done
Select jobs to execute...

[Thu Jun  5 10:28:55 2025]
rule hisat2_align:
    input: results/fastp/batch2_R1.clean.fastq.gz, results/fastp/batch2_R2.clean.fastq.gz, results/hisat2_index, results/hisat2/splice_sites.txt
    output: results/align/batch2.bam, results/align/batch2.bam.bai, results/summary_qc/batch2.hisat2.log
    jobid: 7
    reason: Missing output files: results/summary_qc/batch2.hisat2.log, results/align/batch2.bam; Input files updated by another job: results/hisat2_index, results/fastp/batch2_R1.clean.fastq.gz, results/fastp/batch2_R2.clean.fastq.gz, results/hisat2/splice_sites.txt
    wildcards: sample=batch2
    threads: 8
    resources: tmpdir=/tmp

[Thu Jun  5 10:28:57 2025]
Finished job 7.
12 of 44 steps (27%) done
Select jobs to execute...

[Thu Jun  5 10:28:57 2025]
rule stringtie_quant:
    input: results/align/batch2.bam, testdata/genome/genes.gtf
    output: results/quant/batch2/batch2.gtf
    jobid: 6
    reason: Missing output files: results/quant/batch2/batch2.gtf; Input files updated by another job: results/align/batch2.bam
    wildcards: sample=batch2
    threads: 8
    resources: tmpdir=/tmp

WorkflowError:
Failed to open source file /home/tripp/GENOMICA/2025_snakemake_tests/rules/envs/stringtie.yaml
FileNotFoundError: [Errno 2] No such file or directory: '/home/tripp/GENOMICA/2025_snakemake_tests/rules/envs/stringtie.yaml'
Removing output files of failed job stringtie_quant since they might be corrupted:
results/quant/batch2/batch2.gtf
Shutting down, this might take some time.
Exiting because a job execution failed. Look above for error message
Complete log: .snakemake/log/2025-06-05T102834.480335.snakemake.log
